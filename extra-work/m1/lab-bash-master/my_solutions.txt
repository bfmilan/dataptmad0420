# Bash exercises
# Nice repo for reference: 
# https://github.com/Idnan/bash-guide.git 

------------
# Locate at ../lab-bash-master folder
cd ironhack/gitrepo/dataptmad0420/extra-work/m1/lab-bash-master
------------
# print Hello World in console
# Imprime en consola "Hello World": 
echo 'Hello World'

# Create a new folder
# Crea un directorio nuevo llamado new_dir: 
mkdir new_dir

# Delete new_dir
# Elimina ese directorio: 
rm -rf new_dir

# Make a copy of sed.txt (located in the lorem folder) to lorem-copy.
# Copia el archivo sed.txt dentro de la carpeta lorem a la carpeta lorem-copy: 
cp lorem/sed.txt lorem-copy   

# Copy the rest of the files located in lorem to lorem-copy using only one code line (tip: use ;).
# Copia los otros dos archivos de la carpeta lorem a la carpeta lorem-copy en una sola linea mediante el pipe:  
cp lorem/at.txt lorem-copy; cp lorem/lorem.txt lorem-copy


# Locate at lorem folder and show sed.txt content.
# Muestra el contenido del archivo sed.txt dentro de la carpeta lorem: 
cd lorem
cat sed.txt

# Locate at lorem folder and show at.txt and lorem.txt content.
# Muestra el contenido de los archivos at.txt y lorem.txt dentro de la carpeta lorem: 
cat at.txt; cat lorem.txt

# Locate at lorem-copy folder and show the first three lines of sed.txt.
Visualiza las primeras 3 linas del archivo sed.txt dentro de la carpeta lorem-copy: 
cd ..
cd lorem-copy 
head -3 sed.txt

# Locate at lorem-copy folder and show the last three lines of sed.txt.
Visualiza las ultimas 3 linas del archivo sed.txt dentro de la carpeta lorem-copy: 
tail -3 sed.txt

# Add Homo homini lupus. at the end of sed.txt located at lorem-copy
# Añade Homo homini lupus. al final de archivo sed.txt dentro de la carpeta lorem-copy 
echo 'Homo homini lupus.' >> sed.txt

# Locate at lorem-copy folder and show the last three lines of sed.txt. Now you should see Homo homini lupus. 
# Visualiza las últimas 3 linas del archivo sed.txt dentro de la carpeta lorem-copy. Deberías ver ahora Homo homini lupus 
tail -3 sed.txt

# Change every et to ET in at.txt located at lorem-copy (tip: use sed).
# Sustituye todas las apariciones de et por ET del archivo at.txt dentro de la carpeta lorem-copy. Usa sed
# sed: Stream editor for filtering and transforming text
Stream editor for filtering and transforming text

---
example.txt
Hello This is a Test 1 2 3 4
replace all spaces with hyphens
sed 's/ /-/g' example.txt
Hello-This-is-a-Test-1-2-3-4
replace all digits with "d"
sed 's/[0-9]/d/g' example.txt
Hello This is a Test d d d d
---
# si ya estas en la carpeta, no te coge la ruta
sed 's/et/ET/g' at.txt
# si estas fuera de lorem-copy, hay que poner la ruta 
sed 's/et/ET/g' lorem-copy/at.txt

# Find the active user of the system.
# Encuentra al usuario activo en el sistema: 
whoami
Blanca

who loves daddy
Blanca   ttys001  May  9 17:13 

# Find out where are you located within the system.
Encuentra dónde estás en tu sistema de ficheros: pwd


# List all .txt files located at lorem.
Lista los archivos que terminan por .txt en la carpeta lorem: 
ls *.txt lorem/

# Count the number of lines in sed.txt located at lorem.
Cuenta el número de lineas que tiene el archivo sed.txt dentro de la carpeta lorem. Tendrás que encadenar cat y wc mediante el pipe | : 
cat|wc lorem/sed.txt

# Count the number of files which name starts with lorem located at the whole lab directory.
Cuenta el número de archivos que empiezan por lorem que están en este directorio y en directorios internos: 
ls -d *lorem* | wc -l
2

# Count the number of times et appears in at.txt located at lorem.
Encuentra todas las apariciones de et en at.txt dentro de la carpeta lorem: 
grep -c "et" lorem/at.txt
7

# Count the number of times the string et appears in at.txt located at lorem.
Cuenta el número de apariciones del string et en at.txt dentro de la carpeta lorem. 
Hay que tener solo los string buscados y contar las lineas: grep -o et lorem/at.txt | uniq -c
10 

# Count the number of times the string et appears in every file located at lorem-copy.
Cuenta el número de apariciones del string et en todos los archivos del directorio lorem-copy: grep -o et lorem-copy/*txt | uniq -c
(base) Blancas-MacBook-Air:lab-bash-master Blanca$ grep -o et lorem-copy/*txt | uniq -c
   1 lorem-copy/at.txt:et
   1 et
   4 lorem-copy/at.txt:et
   1 et
   1 lorem-copy/at.txt:et
   1 et
   1 lorem-copy/at.txt:et
   1 lorem-copy/lorem.txt:et
   2 et
   2 lorem-copy/sed.txt:et
   1 et
   1 lorem-copy/sed.txt:et

----------------
Bonus
Note: not 100% completed 


# Load your name in the variable name.
Almacena en una variable name tu nombre mediante el comando read: 
# Abrir nano fiel nuevo "name"
nano name
# Print that variable.
read Blanca
echo "Hello Blanca" 
# Imprime esa variable: bash name 
Hello Blanca


# Create a folder named after the variable name.
# Crea un directorio nuevo que se llame como el contenido de la variable: 
mkdir name
# Delete that folder.
rm -rf name

# For every folder in lorem print the total number of characters of every file name. Try using a for loop to show every file name.
Por cada archivo dentro de la carpeta lorem imprime el número de carácteres que tienen sus nombres. 
Intenta primero mostrar los archivos mediante un bucle for. Luego calcula la longitud de cada elemento de la iteración: 
# for n in lorem/; do ; done.

    Print every file.
    Print the number of characters of every file name.
    Print the number of characters of every file name with the following format: lorem has 5 characters lenght

# Show the system processes being executed (show them hierarchically):
    Using top or htop commands.
    Using ps command with arguments.

# Show processor info on screen.
# Create 3 new alias and make them available everytime you login your session.
# For mac 
https://coolestguidesontheplanet.com/make-an-alias-in-bash-shell-in-os-x-terminal/
cd
ls -lan
nano .bash_profile
alias l="ls -lah"
# Refresh the shell environment by entering the command below:
source ~/.bash_profile

# but actually it doesnt work 
(base) Blancas-MacBook-Air:~ Blanca$ l
bash: l: command not found

# Compress lorem and lorem-copy folders in a file named lorem-compressed.tar.gz
Compress every file in a folder and its subfolders by using the following command:
gzip -r foldername
# first tar 
tar cvzf lorem-compressed.tar.gz lorem lorem-copy 
# the tar command creates, maintains, modifies, and extracts files that are archived in the tar format.
tar [-] A --catenate --concatenate | c --create | d --diff --compare | 
    --delete | r --append | t --list | --test-label | u --update | 
    x --extract --get [options] [pathname ...]

gzip lorem lorem-copy, lorem-compress 
# Uncompress lorem-compressed.tar.gz in lorem-uncompressed folder.
gunzip lorem-compressed.tar.gz 
gunzip -k lorem-compressed.tar.gz 
# but i cannot give it the name lorem-uncommpressed directly 


